:root{--bg-color: #0f172a;--card-bg: rgba(30, 41, 59, .85);--text-primary: #f1f5f9;--text-secondary: #94a3b8;--accent-color: #6366f1;--accent-hover: #4f46e5;--success-color: #10b981;--modal-bg: rgba(0, 0, 0, .95);--input-bg: rgba(0, 0, 0, .2);--border-color: rgba(255, 255, 255, .1);--hover-bg: rgba(255, 255, 255, .1)}[data-theme=light]{--bg-color: #f8fafc;--card-bg: rgba(255, 255, 255, .95);--text-primary: #1e293b;--text-secondary: #475569;--accent-color: #4f46e5;--accent-hover: #4338ca;--success-color: #059669;--modal-bg: rgba(255, 255, 255, .98);--input-bg: rgba(0, 0, 0, .05);--border-color: rgba(0, 0, 0, .1);--hover-bg: rgba(0, 0, 0, .05)}*{margin:0;padding:0;box-sizing:border-box}:focus-visible{outline:3px solid var(--accent-color);outline-offset:2px}.skip-link{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--accent-color);color:#fff;padding:.75rem 1.5rem;border-radius:0 0 10px 10px;z-index:10000;text-decoration:none;font-weight:600;transition:top .2s}.skip-link:focus{top:0}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background-color:var(--bg-color);background-image:radial-gradient(at 0% 0%,hsla(253,16%,7%,1) 0,transparent 50%),radial-gradient(at 50% 0%,hsla(225,39%,30%,1) 0,transparent 50%),radial-gradient(at 100% 0%,hsla(339,49%,30%,1) 0,transparent 50%);min-height:100vh;color:var(--text-primary);overflow-x:hidden}[data-theme=light] body,body[data-theme=light]{background-image:radial-gradient(at 0% 0%,hsla(220,30%,96%,1) 0,transparent 50%),radial-gradient(at 50% 0%,hsla(220,40%,92%,1) 0,transparent 50%),radial-gradient(at 100% 0%,hsla(280,30%,95%,1) 0,transparent 50%)}body.modal-open .header,body.modal-open .gallery-container,body.modal-open #backToTop{display:none}.header{display:flex;flex-direction:column;align-items:center;padding:3rem 1.5rem 2rem;padding-top:max(3rem,env(safe-area-inset-top,0px));padding-left:max(1.5rem,env(safe-area-inset-left,0px));padding-right:max(1.5rem,env(safe-area-inset-right,0px));position:relative;z-index:10}.header h1{font-size:2.5rem;font-weight:700;margin-bottom:.5rem;background:linear-gradient(to right,#fff,#94a3b8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center}.header p{color:var(--text-secondary);font-size:1.1rem;margin-bottom:2rem;text-align:center}.controls-bar{background:#ffffff0f;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1rem;display:flex;flex-wrap:wrap;gap:1rem;width:100%;max-width:1200px;margin-bottom:2rem;align-items:center;justify-content:space-between}.search-box{position:relative;flex-grow:1;min-width:250px}.search-box input{width:100%;background:#0003;border:1px solid rgba(255,255,255,.1);padding:.75rem 1rem .75rem 2.5rem;border-radius:10px;color:#fff;font-family:inherit;transition:all .2s}.search-box input:focus{border-color:var(--accent-color);background:#0000004d}.search-icon{position:absolute;left:1rem;top:50%;transform:translateY(-50%);opacity:.5}.filter-group{display:flex;gap:.5rem;background:#0003;padding:.25rem;border-radius:10px}.filter-btn{background:transparent;border:none;color:var(--text-secondary);padding:.5rem 1rem;border-radius:8px;cursor:pointer;transition:all .2s;font-weight:500}.filter-btn.active{background:var(--accent-color);color:#fff}.filter-badge{display:inline-flex;align-items:center;justify-content:center;min-width:1.4em;padding:.1em .4em;margin-left:.4em;font-size:.75em;font-weight:600;background:#fff3;border-radius:999px}.filter-btn.active .filter-badge{background:#ffffff4d}.sort-select{background:#0003;border:1px solid rgba(255,255,255,.1);color:#fff;padding:.75rem 1rem;border-radius:10px;cursor:pointer}.action-btn{background:var(--accent-color);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:10px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:.5rem;transition:all .2s;text-decoration:none}.action-btn:hover{background:var(--accent-hover);transform:translateY(-1px)}.action-btn.secondary{background:#ffffff1a;border:1px solid rgba(255,255,255,.1)}.action-btn.secondary:hover{background:#ffffff26}.action-btn.danger{background:#dc2626}.action-btn.danger:hover{background:#b91c1c}.gallery-container{max-width:1400px;margin:0 auto;padding:0 1.5rem 3rem}.media-grid{column-count:4;column-gap:1.5rem}.virtual-sentinel{width:100%;height:1px}@media (max-width: 1200px){.media-grid{column-count:3}}@media (max-width: 900px){.media-grid{column-count:2}.controls-bar{flex-direction:column;align-items:stretch}.header h1{font-size:2rem}}@media (max-width: 600px){.media-grid{column-count:1}}.media-card{break-inside:avoid;background:var(--card-bg);border-radius:16px;overflow:hidden;margin-bottom:1.5rem;border:1px solid rgba(255,255,255,.05);transition:transform .3s ease,box-shadow .3s ease;position:relative;content-visibility:auto;contain-intrinsic-size:320px}.media-card:hover{transform:translateY(-5px);box-shadow:0 10px 30px -10px #00000080;border-color:#ffffff1a}.media-preview-container{position:relative;cursor:pointer;overflow:hidden}.media-preview{width:100%;height:auto;display:block;transition:transform .5s ease}.modal-media.zoomable{touch-action:none}.media-preview-picture{display:block;width:100%}.media-card:hover .media-preview{transform:scale(1.03)}.play-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:50px;height:50px;background:#0009;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid white;box-shadow:0 4px 6px #0000004d;pointer-events:none}.media-info{padding:1rem}.media-title{min-width:0}.media-name{font-weight:600;margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text-primary)}.video-details{display:none;margin-top:.35rem;font-size:.75rem;line-height:1.25;color:var(--text-secondary);word-break:break-word}body.show-details .video-details,.video-details .line{display:block}.media-meta{display:flex;justify-content:space-between;align-items:center;color:var(--text-secondary);font-size:.85rem;margin-top:.5rem}.card-actions{margin-top:1rem;display:flex;gap:.5rem}.card-btn{flex:1;background:#ffffff1a;border:none;padding:.5rem;border-radius:8px;color:#fff;cursor:pointer;transition:all .2s;font-size:.9rem;display:flex;align-items:center;justify-content:center;gap:.3rem;text-decoration:none}.card-btn:hover{background:#fff3}.card-btn.primary{background:var(--accent-color)}.card-btn.primary:hover{background:var(--accent-hover)}.modal{display:none;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;background:var(--modal-bg);opacity:0;transition:opacity .3s ease;overscroll-behavior:contain}.modal.show{opacity:1}.modal-content-wrapper{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center}.modal-media{max-width:90%;max-height:85vh;border-radius:8px;box-shadow:0 25px 50px -12px #00000080;object-fit:contain;transition:transform .3s ease,max-height .3s ease,max-width .3s ease}.modal.immersive{background:#000;cursor:none}.modal.immersive.active-user{cursor:default}.modal.immersive .modal-media{max-width:100vw;max-height:100vh;border-radius:0}.modal-header{position:absolute;top:0;left:0;right:0;padding:1.5rem;padding-top:max(1.5rem,env(safe-area-inset-top,0px));padding-left:max(1.5rem,env(safe-area-inset-left,0px));padding-right:max(1.5rem,env(safe-area-inset-right,0px));display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to bottom,rgba(0,0,0,.8),transparent);z-index:10;transition:opacity .5s ease,transform .5s ease}.modal-footer{position:absolute;bottom:0;left:0;right:0;padding:2rem 1.5rem;padding-bottom:max(2rem,env(safe-area-inset-bottom,0px));padding-left:max(1.5rem,env(safe-area-inset-left,0px));padding-right:max(1.5rem,env(safe-area-inset-right,0px));background:linear-gradient(to top,rgba(0,0,0,.8),transparent);text-align:center;z-index:10;transition:opacity .5s ease,transform .5s ease}.modal.immersive:not(.active-user) .modal-header{opacity:0;transform:translateY(-20px);pointer-events:none}.modal.immersive:not(.active-user) .modal-footer{opacity:0;transform:translateY(20px);pointer-events:none}.modal.immersive:not(.active-user) .nav-btn{opacity:0;pointer-events:none}.modal-controls{display:flex;gap:.5rem}.icon-btn{background:#ffffff26;border:1px solid rgba(255,255,255,.2);color:#fff;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;font-size:1.2rem}.icon-btn:hover{background:#ffffff4d;transform:scale(1.05)}.icon-btn.danger{background:#dc2626cc;border-color:#dc2626e6}.icon-btn.danger:hover{background:#b91c1c}.nav-btn{position:absolute;top:50%;transform:translateY(-50%);background:#00000080;border:none;color:#fff;padding:1rem;cursor:pointer;z-index:5;transition:opacity .5s ease;border-radius:50%;margin:0 1rem}.nav-btn:hover{background:#fff3}.nav-prev{left:0}.nav-next{right:0}.file-placeholder{height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#ffffff0d;color:var(--text-secondary)}.loading{text-align:center;padding:4rem}.spinner{width:50px;height:50px;border:4px solid rgba(255,255,255,.1);border-left-color:var(--accent-color);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 1rem}@keyframes spin{to{transform:rotate(360deg)}}.video-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000d9;display:none;flex-direction:column;align-items:center;justify-content:center;z-index:9999;cursor:pointer}.video-overlay.show{display:flex}.video-overlay-content{text-align:center;padding:2rem}.video-overlay-content .spinner{width:60px;height:60px}.video-overlay-content p{margin-top:1.5rem;font-size:1.3rem;color:#fff}.video-overlay-content .hint{margin-top:.5rem;font-size:.9rem;color:var(--text-secondary)}.skeleton-grid{column-count:4;column-gap:1.5rem}@media (max-width: 1200px){.skeleton-grid{column-count:3}}@media (max-width: 900px){.skeleton-grid{column-count:2}}@media (max-width: 600px){.skeleton-grid{column-count:1}}.skeleton-card{break-inside:avoid;background:var(--card-bg);border-radius:16px;overflow:hidden;margin-bottom:1.5rem;border:1px solid rgba(255,255,255,.05)}.skeleton-preview{height:200px;background:linear-gradient(90deg,#ffffff0d 25%,#ffffff1a,#ffffff0d 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}.skeleton-info{padding:1rem}.skeleton-title{height:1.2rem;width:70%;background:#ffffff1a;border-radius:4px;margin-bottom:.75rem;animation:shimmer 1.5s infinite}.skeleton-meta{height:.9rem;width:50%;background:#ffffff12;border-radius:4px;animation:shimmer 1.5s infinite}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.error-state{text-align:center;padding:4rem 1rem;color:var(--text-secondary)}.error-state .error-icon{font-size:3rem;margin-bottom:1rem}.error-state h3{color:#ef4444;margin-bottom:.5rem}.error-state .retry-btn{margin-top:1.5rem;background:var(--accent-color);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:10px;cursor:pointer;font-weight:600}.error-state .retry-btn:hover{background:var(--accent-hover)}.help-overlay{display:none;position:fixed;top:0;right:0;bottom:0;left:0;background:#000000e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:3000;justify-content:center;align-items:center;opacity:0;transition:opacity .2s ease}.help-overlay.show{display:flex;opacity:1}.help-content{background:var(--card-bg);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.help-content h2{margin:0 0 1.5rem;font-size:1.5rem;display:flex;justify-content:space-between;align-items:center}.help-section{margin-bottom:1.5rem}.help-section h3{color:var(--text-secondary);font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.75rem}.shortcut-row{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px solid rgba(255,255,255,.05)}.shortcut-key{display:inline-flex;gap:.25rem}.shortcut-key kbd{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:6px;padding:.25rem .5rem;font-family:inherit;font-size:.85rem}.offline-banner{position:fixed;top:0;left:0;right:0;background:linear-gradient(135deg,#dc2626,#b91c1c);color:#fff;padding:.75rem 1.5rem;padding-top:max(.75rem,env(safe-area-inset-top,0px));text-align:center;font-weight:600;z-index:4000;transform:translateY(-100%);transition:transform .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.offline-banner.show{transform:translateY(0)}.pull-to-refresh{position:fixed;top:0;left:0;right:0;height:0;overflow:hidden;display:flex;align-items:flex-end;justify-content:center;font-weight:600;font-size:.95rem;color:var(--text-primary);background:#0f172ad9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:3500;transition:height .2s ease}.pull-to-refresh.ready{color:var(--accent-color)}.pull-to-refresh.refreshing{height:56px}@media (max-width: 600px){.icon-btn{width:48px;height:48px}.nav-btn{padding:.9rem;width:48px;height:48px}.theme-toggle{width:48px;height:48px}.action-btn{min-height:48px}.media-card,.modal,.modal-media{will-change:transform}.modal-footer{background:#000000bf;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px 16px 0 0;margin:0 .75rem;padding:1.25rem 1rem}}.media-grid.list-view{column-count:1!important}.media-grid.list-view .media-card{display:flex;flex-direction:row;align-items:center;margin-bottom:.75rem}.media-grid.list-view .media-preview-container{width:120px;min-width:120px;height:80px;border-radius:12px 0 0 12px}.media-grid.list-view .media-preview{height:80px}.media-grid.list-view .media-info{flex:1;display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem}.media-grid.list-view .media-title{flex:1}.media-grid.list-view .media-meta{margin:0 1rem}.media-grid.list-view .card-actions{margin:0}.layout-toggle{display:flex;gap:.25rem;background:#0003;border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:.25rem}.layout-toggle button{background:transparent;border:none;color:var(--text-secondary);padding:.4rem .6rem;border-radius:8px;cursor:pointer;transition:all .2s}.layout-toggle button.active{background:var(--accent-color);color:#fff}.toast{position:fixed;bottom:2rem;right:2rem;background:var(--card-bg);border:1px solid rgba(255,255,255,.1);padding:1rem 1.5rem;border-radius:12px;display:flex;align-items:center;gap:.75rem;box-shadow:0 20px 25px -5px #0000004d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transform:translateY(100px);opacity:0;transition:all .3s cubic-bezier(.68,-.55,.265,1.55);z-index:2000}.toast.show{transform:translateY(0);opacity:1}.toast-icon{color:var(--success-color);font-size:1.2rem}.icon{width:1em;height:1em;fill:currentColor}.empty-state{text-align:center;padding:4rem 1rem;color:var(--text-secondary)}.back-to-top{position:fixed;bottom:2rem;left:2rem;background:var(--accent-color);color:#fff;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 12px #0000004d;z-index:100;opacity:0;visibility:hidden;transition:all .3s ease;border:none;font-size:1.5rem}.back-to-top.show{opacity:1;visibility:visible}.back-to-top:hover{background:var(--accent-hover);transform:translateY(-5px)}.media-tag{position:absolute;top:.75rem;right:.75rem;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);padding:.25rem .6rem;border-radius:6px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#fff;z-index:2;border:1px solid rgba(255,255,255,.1)}.media-preview-container:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(to bottom,transparent 60%,rgba(0,0,0,.4));opacity:0;transition:opacity .3s}.media-card:hover .media-preview-container:after{opacity:1}.theme-toggle{background:var(--input-bg);border:1px solid var(--border-color);color:var(--text-primary);padding:.75rem;border-radius:10px;cursor:pointer;transition:all .2s;font-size:1.2rem;display:flex;align-items:center;justify-content:center;width:44px;height:44px}.theme-toggle:hover{background:var(--hover-bg);transform:scale(1.05)}[data-theme=light] .controls-bar{background:#ffffffb3;border:1px solid var(--border-color);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}[data-theme=light] .search-box input{background:var(--input-bg);border:1px solid var(--border-color);color:var(--text-primary)}[data-theme=light] .filter-group{background:var(--input-bg)}[data-theme=light] .filter-btn{color:var(--text-secondary)}[data-theme=light] .sort-select,[data-theme=light] .action-btn.secondary{background:var(--input-bg);border:1px solid var(--border-color);color:var(--text-primary)}[data-theme=light] .action-btn.secondary:hover{background:var(--hover-bg)}[data-theme=light] .media-card{border:1px solid var(--border-color);box-shadow:0 1px 3px #0000001a}[data-theme=light] .card-btn{background:var(--input-bg);color:var(--text-primary)}[data-theme=light] .card-btn:hover{background:var(--hover-bg)}[data-theme=light] .modal{background:var(--modal-bg)}[data-theme=light] .modal-header{background:linear-gradient(to bottom,rgba(255,255,255,.95),transparent)}[data-theme=light] .modal-footer{background:linear-gradient(to top,rgba(255,255,255,.95),transparent)}[data-theme=light] .icon-btn{background:#0000001a;border:1px solid var(--border-color);color:var(--text-primary)}[data-theme=light] .icon-btn:hover{background:#00000026}[data-theme=light] .nav-btn{background:#0000001a;color:var(--text-primary)}[data-theme=light] .nav-btn:hover{background:#00000026}[data-theme=light] .toast{background:var(--card-bg);border:1px solid var(--border-color);box-shadow:0 4px 12px #00000026}[data-theme=light] .help-content{background:var(--card-bg);border:1px solid var(--border-color)}[data-theme=light] .skeleton-preview{background:linear-gradient(90deg,#0000000d 25%,#0000001a,#0000000d 75%);background-size:200% 100%}[data-theme=light] .skeleton-title,[data-theme=light] .skeleton-meta{background:#00000014}[data-theme=light] .header h1{background:linear-gradient(to right,#1e293b,#475569);-webkit-background-clip:text;-webkit-text-fill-color:transparent}[data-theme=light] .layout-toggle{background:var(--input-bg);border:1px solid var(--border-color)}[data-theme=light] .layout-toggle button{color:var(--text-secondary)}[data-theme=light] .play-icon{background:#fffc;border-color:var(--text-primary)}[data-theme=light] .file-placeholder{background:#0000000d}[data-theme=light] .shortcut-key kbd{background:#00000014;border:1px solid var(--border-color)}
