{"version":3,"file":"analytics.js","sources":["../src/analytics.ts"],"sourcesContent":["interface DropprTokens {\n  access: string | null;\n  refresh: string | null;\n  accessExp: number;\n  refreshExp: number;\n}\n\ninterface JwtPayload {\n  exp?: number;\n  [key: string]: unknown;\n}\n\ninterface ShareData {\n  hash: string;\n  path?: string;\n  downloads: number;\n  zip_downloads: number;\n  file_downloads: number;\n  gallery_views: number;\n  unique_ips: number;\n  last_seen: number | null;\n  deleted?: boolean;\n  shareUrl: string;\n}\n\ninterface ShareListResponse {\n  shares: ShareData[];\n  totals: {\n    downloads?: number;\n    zip_downloads?: number;\n    file_downloads?: number;\n    gallery_views?: number;\n  };\n  range?: {\n    since?: number;\n    until?: number;\n  };\n}\n\ninterface ShareDetailResponse {\n  share: ShareData;\n  counts: {\n    file_download?: number;\n    zip_download?: number;\n    gallery_view?: number;\n  };\n  ips: IpData[];\n  events: EventData[];\n}\n\ninterface IpData {\n  ip: string;\n  downloads: number;\n  zip_downloads: number;\n  file_downloads: number;\n  last_seen: number;\n}\n\ninterface EventData {\n  created_at: number;\n  event_type: string;\n  ip?: string;\n  file_path?: string;\n  user_agent?: string;\n}\n\ninterface AnalyticsState {\n  days: number;\n  includeEmpty: boolean;\n  search: string;\n  shares: ShareData[];\n  selectedHash: string | null;\n}\n\ninterface AnalyticsElements {\n  rangeLabel: HTMLElement | null;\n  rangeSelect: HTMLSelectElement | null;\n  refresh: HTMLElement | null;\n  search: HTMLInputElement | null;\n  includeEmpty: HTMLInputElement | null;\n  sharesBody: HTMLElement | null;\n  sharesCount: HTMLElement | null;\n  status: HTMLElement | null;\n  metricDownloads: HTMLElement | null;\n  metricZip: HTMLElement | null;\n  metricFiles: HTMLElement | null;\n  metricViews: HTMLElement | null;\n  modal: HTMLElement | null;\n  modalClose: HTMLElement | null;\n  detailTitle: HTMLElement | null;\n  detailSub: HTMLElement | null;\n  detailMetrics: HTMLElement | null;\n  ipsBody: HTMLElement | null;\n  eventsBody: HTMLElement | null;\n  exportCsv: HTMLElement | null;\n  openGallery: HTMLAnchorElement | null;\n  themeToggle: HTMLElement | null;\n}\n\ninterface GalleryPrefs {\n  theme?: 'dark' | 'light';\n  [key: string]: unknown;\n}\n\nconst DROPPR_ACCESS_TOKEN_KEY = \"droppr_access_token\";\nconst DROPPR_REFRESH_TOKEN_KEY = \"droppr_refresh_token\";\nconst DROPPR_OTP_KEY = \"droppr_otp_code\";\n\nfunction getJwtToken(): string | null {\n  try {\n    const t = localStorage.getItem('jwt');\n    return t ? String(t) : null;\n  } catch {\n    return null;\n  }\n}\n\nfunction decodeJwtPayload(token: string | null): JwtPayload | null {\n  if (!token) return null;\n  try {\n    const parts = String(token).split('.');\n    if (parts.length !== 3) return null;\n    const payload = parts[1].replace(/-/g, '+').replace(/_/g, '/');\n    const pad = payload.length % 4 ? '===='.slice(payload.length % 4) : '';\n    return JSON.parse(atob(payload + pad)) as JwtPayload;\n  } catch {\n    return null;\n  }\n}\n\nfunction getStoredDropprTokens(): DropprTokens {\n  try {\n    const access = localStorage.getItem(DROPPR_ACCESS_TOKEN_KEY);\n    const refresh = localStorage.getItem(DROPPR_REFRESH_TOKEN_KEY);\n    const accessPayload = decodeJwtPayload(access);\n    const refreshPayload = decodeJwtPayload(refresh);\n    return {\n      access,\n      refresh,\n      accessExp: accessPayload?.exp ? accessPayload.exp * 1000 : 0,\n      refreshExp: refreshPayload?.exp ? refreshPayload.exp * 1000 : 0,\n    };\n  } catch {\n    return { access: null, refresh: null, accessExp: 0, refreshExp: 0 };\n  }\n}\n\nfunction getOtpCode(): string {\n  try {\n    return sessionStorage.getItem(DROPPR_OTP_KEY) || '';\n  } catch {\n    return '';\n  }\n}\n\nfunction promptForOtp(): string {\n  const code = window.prompt(\"Enter your 2FA code:\");\n  if (code) {\n    try { sessionStorage.setItem(DROPPR_OTP_KEY, String(code)); } catch { /* ignore */ }\n    return code;\n  }\n  return '';\n}\n\ninterface RefreshResponse {\n  access_token?: string;\n  refresh_token?: string;\n  otp_required?: boolean;\n}\n\nasync function refreshDropprToken(refreshToken: string, allowPrompt = true): Promise<string | null> {\n  if (!refreshToken) return null;\n  const headers: Record<string, string> = { Authorization: `Bearer ${refreshToken}` };\n  const otp = getOtpCode();\n  if (otp) headers['X-Droppr-OTP'] = otp;\n  const res = await fetch('/api/droppr/auth/refresh', { method: 'POST', headers });\n  const text = await res.text().catch(() => '');\n  let data: RefreshResponse | null = null;\n  if (text) {\n    try { data = JSON.parse(text); } catch { /* ignore */ }\n  }\n  if (res.status === 401 && data?.otp_required && allowPrompt) {\n    const code = promptForOtp();\n    if (!code) return null;\n    return refreshDropprToken(refreshToken, false);\n  }\n  if (!res.ok || !data?.access_token) return null;\n  try {\n    localStorage.setItem(DROPPR_ACCESS_TOKEN_KEY, data.access_token);\n    if (data.refresh_token) localStorage.setItem(DROPPR_REFRESH_TOKEN_KEY, data.refresh_token);\n  } catch { /* ignore */ }\n  return data.access_token;\n}\n\nasync function ensureDropprAccessToken(): Promise<string | null> {\n  const state = getStoredDropprTokens();\n  const now = Date.now();\n  if (state.access && state.accessExp > now + 60000) return state.access;\n  if (state.refresh && state.refreshExp > now + 60000) {\n    return await refreshDropprToken(state.refresh, true);\n  }\n  return null;\n}\n\n// Prefer droppr access token if available; fall back to File Browser JWT.\nconst token = getJwtToken();\n\nconst els: AnalyticsElements = {\n  rangeLabel: document.getElementById('rangeLabel'),\n  rangeSelect: document.getElementById('rangeSelect') as HTMLSelectElement | null,\n  refresh: document.getElementById('refreshBtn'),\n  search: document.getElementById('searchInput') as HTMLInputElement | null,\n  includeEmpty: document.getElementById('includeEmpty') as HTMLInputElement | null,\n  sharesBody: document.getElementById('sharesBody'),\n  sharesCount: document.getElementById('sharesCount'),\n  status: document.getElementById('status'),\n  metricDownloads: document.getElementById('metricDownloads'),\n  metricZip: document.getElementById('metricZip'),\n  metricFiles: document.getElementById('metricFiles'),\n  metricViews: document.getElementById('metricViews'),\n  modal: document.getElementById('detailModal'),\n  modalClose: document.getElementById('detailClose'),\n  detailTitle: document.getElementById('detailTitle'),\n  detailSub: document.getElementById('detailSub'),\n  detailMetrics: document.getElementById('detailMetrics'),\n  ipsBody: document.getElementById('ipsBody'),\n  eventsBody: document.getElementById('eventsBody'),\n  exportCsv: document.getElementById('exportCsvBtn'),\n  openGallery: document.getElementById('openGalleryBtn') as HTMLAnchorElement | null,\n  themeToggle: document.getElementById('themeToggle'),\n};\n\nconst state: AnalyticsState = {\n  days: 30,\n  includeEmpty: true,\n  search: '',\n  shares: [],\n  selectedHash: null,\n};\n\n// ============ THEME FUNCTIONS ============\nconst PREFS_KEY = 'droppr_gallery_prefs';\n\nfunction loadPrefs(): GalleryPrefs {\n  try {\n    return JSON.parse(localStorage.getItem(PREFS_KEY) || '{}') as GalleryPrefs;\n  } catch { return {}; }\n}\n\nfunction savePrefs(prefs: Partial<GalleryPrefs>): void {\n  try {\n    localStorage.setItem(PREFS_KEY, JSON.stringify({ ...loadPrefs(), ...prefs }));\n  } catch { /* ignore */ }\n}\n\nfunction getTheme(): 'dark' | 'light' {\n  const prefs = loadPrefs();\n  return prefs.theme || 'dark';\n}\n\nfunction setTheme(theme: 'dark' | 'light'): void {\n  const isDark = theme === 'dark';\n  document.documentElement.setAttribute('data-theme', theme);\n  if (els.themeToggle) {\n    els.themeToggle.textContent = isDark ? 'ðŸŒ™' : 'â˜€ï¸';\n    els.themeToggle.title = isDark ? 'Switch to light theme' : 'Switch to dark theme';\n  }\n  savePrefs({ theme });\n}\n\nfunction toggleTheme(): void {\n  const current = getTheme();\n  setTheme(current === 'dark' ? 'light' : 'dark');\n}\n\nfunction initTheme(): void {\n  const theme = getTheme();\n  setTheme(theme);\n  if (els.themeToggle) {\n    els.themeToggle.addEventListener('click', toggleTheme);\n  }\n}\n\n// Initialize theme immediately\ninitTheme();\n\nfunction fmtInt(n: number | null | undefined): string {\n  if (n === null || n === undefined) return 'â€”';\n  return Intl.NumberFormat().format(n);\n}\n\nfunction fmtTime(ts: number | null | undefined): string {\n  if (!ts) return 'â€”';\n  const d = new Date(ts * 1000);\n  return d.toLocaleString();\n}\n\nfunction showStatus(text: string, { error = false } = {}): void {\n  if (els.status) {\n    els.status.textContent = text || '';\n    els.status.className = 'status' + (error ? ' error' : '');\n  }\n}\n\nfunction reportError(err: unknown): void {\n  const message = err instanceof Error ? err.message : String(err || 'Unknown error');\n  showStatus(message, { error: true });\n}\n\nwindow.addEventListener('error', (e: ErrorEvent) => {\n  if (!e?.message) return;\n  reportError(new Error(e.message));\n});\n\nwindow.addEventListener('unhandledrejection', (e: PromiseRejectionEvent) => {\n  if (!e) return;\n  const reason = e.reason;\n  reportError(reason instanceof Error ? reason : new Error(String(reason || 'Unhandled promise rejection')));\n});\n\nasync function apiJson<T>(path: string): Promise<T | null> {\n  const headers: Record<string, string> = {};\n  const dropprToken = await ensureDropprAccessToken();\n  if (dropprToken) headers['Authorization'] = `Bearer ${dropprToken}`;\n  else if (token) headers['X-Auth'] = token;\n\n  const res = await fetch(path, {\n    headers,\n    cache: 'no-store',\n  });\n  if (res.status === 401) {\n    window.location.href = '/login?redirect=' + encodeURIComponent('/analytics');\n    return null;\n  }\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`Request failed (${res.status}): ${text || res.statusText}`);\n  }\n  return await res.json() as T;\n}\n\nfunction applyFilterAndRender(): void {\n  const q = state.search.trim().toLowerCase();\n  const filtered = state.shares.filter((s: ShareData) => {\n    if (!state.includeEmpty && (s.downloads === 0 && s.gallery_views === 0)) return false;\n    if (!q) return true;\n    return (s.hash || '').toLowerCase().includes(q) || (s.path || '').toLowerCase().includes(q);\n  });\n\n  if (els.sharesCount) {\n    els.sharesCount.textContent = `${fmtInt(filtered.length)} shares`;\n  }\n  if (els.sharesBody) {\n    els.sharesBody.innerHTML = '';\n  }\n\n  if (filtered.length === 0) {\n    if (els.sharesBody) {\n      els.sharesBody.innerHTML = `<tr><td colspan=\"6\" class=\"muted\">No shares match your filters.</td></tr>`;\n    }\n    return;\n  }\n\n  for (const share of filtered) {\n    const shareLabel = share.path ? `<div>${escapeHtml(share.path)}</div><div class=\"muted mono\">${escapeHtml(share.hash)}</div>`\n                                 : `<div class=\"mono\">${escapeHtml(share.hash)}</div>`;\n    const deletedTag = share.deleted ? `<span class=\"tag warn\">deleted</span>` : '';\n    const downloadsTag = share.downloads > 0 ? `<span class=\"tag good\">${fmtInt(share.downloads)}</span>` : `<span class=\"tag\">${fmtInt(share.downloads)}</span>`;\n\n    const tr = document.createElement('tr');\n    tr.innerHTML = `\n        <td>${shareLabel}<div style=\"margin-top:0.35rem;\">${deletedTag}</div></td>\n        <td>${downloadsTag}<div class=\"muted\" style=\"margin-top:0.25rem;\">ZIP ${fmtInt(share.zip_downloads)} â€¢ Files ${fmtInt(share.file_downloads)}</div></td>\n        <td>${fmtInt(share.gallery_views)}</td>\n        <td>${fmtInt(share.unique_ips)}</td>\n        <td>${fmtTime(share.last_seen)}</td>\n        <td>\n            <div class=\"row-actions\">\n                <a class=\"btn secondary\" href=\"${share.shareUrl}\" target=\"_blank\" rel=\"noopener\">Open</a>\n                <button class=\"btn secondary\" type=\"button\" data-detail=\"${escapeHtml(share.hash)}\">Details</button>\n            </div>\n        </td>\n    `;\n    els.sharesBody?.appendChild(tr);\n  }\n}\n\nfunction escapeHtml(value: string): string {\n  return String(value)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction setMetrics(totals: ShareListResponse['totals']): void {\n  if (els.metricDownloads) els.metricDownloads.textContent = fmtInt(totals.downloads ?? 0);\n  if (els.metricZip) els.metricZip.textContent = fmtInt(totals.zip_downloads ?? 0);\n  if (els.metricFiles) els.metricFiles.textContent = fmtInt(totals.file_downloads ?? 0);\n  if (els.metricViews) els.metricViews.textContent = fmtInt(totals.gallery_views ?? 0);\n}\n\nasync function loadShares(): Promise<void> {\n  showStatus('');\n  if (els.sharesBody) {\n    els.sharesBody.innerHTML = `<tr><td colspan=\"6\" class=\"muted\">Loadingâ€¦</td></tr>`;\n  }\n  const days = state.days;\n  const includeEmpty = state.includeEmpty;\n  const data = await apiJson<ShareListResponse>(`/api/analytics/shares?days=${encodeURIComponent(days)}&include_empty=${includeEmpty ? '1' : '0'}`);\n  if (!data) return;\n\n  state.shares = Array.isArray(data.shares) ? data.shares : [];\n  setMetrics(data.totals || {});\n\n  const since = data.range?.since;\n  const until = data.range?.until;\n  if (els.rangeLabel) {\n    els.rangeLabel.textContent = since && until ? `${fmtTime(since)} â†’ ${fmtTime(until)}` : 'â€”';\n  }\n\n  applyFilterAndRender();\n}\n\nfunction openDetailsModal(): void {\n  els.modal?.classList.add('show');\n}\n\nfunction closeModal(): void {\n  els.modal?.classList.remove('show');\n  state.selectedHash = null;\n}\n\nfunction renderDetailMetrics(detail: ShareDetailResponse): void {\n  const counts = detail.counts || {};\n  const downloads = (counts.file_download || 0) + (counts.zip_download || 0);\n  const views = counts.gallery_view || 0;\n\n  if (els.detailMetrics) {\n    els.detailMetrics.innerHTML = `\n        <div class=\"detail-card\"><div class=\"label\">Downloads</div><div class=\"value\">${fmtInt(downloads)}</div></div>\n        <div class=\"detail-card\"><div class=\"label\">ZIP Downloads</div><div class=\"value\">${fmtInt(counts.zip_download || 0)}</div></div>\n        <div class=\"detail-card\"><div class=\"label\">File Downloads</div><div class=\"value\">${fmtInt(counts.file_download || 0)}</div></div>\n        <div class=\"detail-card\"><div class=\"label\">Gallery Views</div><div class=\"value\">${fmtInt(views)}</div></div>\n        <div class=\"detail-card\"><div class=\"label\">Unique IPs</div><div class=\"value\">${fmtInt((detail.ips || []).length)}</div></div>\n        <div class=\"detail-card\"><div class=\"label\">Last Event</div><div class=\"value\">${fmtTime((detail.events?.[0]?.created_at) || null)}</div></div>\n    `;\n  }\n}\n\nfunction renderIps(detail: ShareDetailResponse): void {\n  const ips = Array.isArray(detail.ips) ? detail.ips : [];\n  if (ips.length === 0) {\n    if (els.ipsBody) {\n      els.ipsBody.innerHTML = `<tr><td colspan=\"5\" class=\"muted\">No IP data (or IP logging disabled).</td></tr>`;\n    }\n    return;\n  }\n  if (els.ipsBody) {\n    els.ipsBody.innerHTML = '';\n    for (const row of ips) {\n      const tr = document.createElement('tr');\n      tr.innerHTML = `\n          <td class=\"mono\">${escapeHtml(row.ip)}</td>\n          <td>${fmtInt(row.downloads)}</td>\n          <td>${fmtInt(row.zip_downloads)}</td>\n          <td>${fmtInt(row.file_downloads)}</td>\n          <td>${fmtTime(row.last_seen)}</td>\n      `;\n      els.ipsBody.appendChild(tr);\n    }\n  }\n}\n\nfunction renderEvents(detail: ShareDetailResponse): void {\n  const events = Array.isArray(detail.events) ? detail.events : [];\n  if (events.length === 0) {\n    if (els.eventsBody) {\n      els.eventsBody.innerHTML = `<tr><td colspan=\"5\" class=\"muted\">No events yet.</td></tr>`;\n    }\n    return;\n  }\n  if (els.eventsBody) {\n    els.eventsBody.innerHTML = '';\n    for (const ev of events.slice(0, 200)) {\n      const tr = document.createElement('tr');\n      tr.innerHTML = `\n          <td>${fmtTime(ev.created_at)}</td>\n          <td class=\"mono\">${escapeHtml(ev.event_type)}</td>\n          <td class=\"mono\">${escapeHtml(ev.ip || '')}</td>\n          <td class=\"mono\">${escapeHtml(ev.file_path || '')}</td>\n          <td class=\"muted\">${escapeHtml(ev.user_agent || '')}</td>\n      `;\n      els.eventsBody.appendChild(tr);\n    }\n  }\n}\n\nasync function loadShareDetail(shareHash: string): Promise<void> {\n  showStatus('');\n  state.selectedHash = shareHash;\n  if (els.detailTitle) els.detailTitle.textContent = 'Loadingâ€¦';\n  if (els.detailSub) els.detailSub.textContent = '';\n  if (els.ipsBody) els.ipsBody.innerHTML = `<tr><td colspan=\"5\" class=\"muted\">Loadingâ€¦</td></tr>`;\n  if (els.eventsBody) els.eventsBody.innerHTML = `<tr><td colspan=\"5\" class=\"muted\">Loadingâ€¦</td></tr>`;\n  openDetailsModal();\n\n  const detail = await apiJson<ShareDetailResponse>(`/api/analytics/shares/${encodeURIComponent(shareHash)}?days=${encodeURIComponent(state.days)}`);\n  if (!detail) return;\n\n  const share = detail.share || {} as ShareData;\n  if (els.detailTitle) els.detailTitle.textContent = share.path ? `${share.path}` : `${share.hash}`;\n  if (els.detailSub) els.detailSub.textContent = share.path ? share.hash : '';\n  if (els.openGallery) els.openGallery.href = share.shareUrl || `/gallery/${shareHash}`;\n\n  renderDetailMetrics(detail);\n  renderIps(detail);\n  renderEvents(detail);\n}\n\nasync function exportCsv(hash: string): Promise<void> {\n  const headers: Record<string, string> = {};\n  const dropprToken = await ensureDropprAccessToken();\n  if (dropprToken) headers['Authorization'] = `Bearer ${dropprToken}`;\n  else if (token) headers['X-Auth'] = token;\n\n  const res = await fetch(`/api/analytics/shares/${encodeURIComponent(hash)}/export.csv?days=${encodeURIComponent(state.days)}`, {\n    headers,\n    cache: 'no-store',\n  });\n  if (res.status === 401) {\n    window.location.href = '/login?redirect=' + encodeURIComponent('/analytics');\n    return;\n  }\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`Export failed (${res.status}): ${text || res.statusText}`);\n  }\n  const blob = await res.blob();\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `droppr-share-${hash}-analytics.csv`;\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  URL.revokeObjectURL(url);\n}\n\n// Event wiring\nels.rangeSelect?.addEventListener('change', () => {\n  state.days = parseInt(els.rangeSelect!.value, 10);\n  loadShares().catch(reportError);\n});\n\nels.refresh?.addEventListener('click', () => loadShares().catch(reportError));\n\n// Debounced search\nlet searchTimeout: ReturnType<typeof setTimeout> | null = null;\nels.search?.addEventListener('input', () => {\n  if (searchTimeout) clearTimeout(searchTimeout);\n  searchTimeout = setTimeout(() => {\n    state.search = els.search!.value;\n    applyFilterAndRender();\n  }, 150);\n});\n\nels.includeEmpty?.addEventListener('change', () => {\n  state.includeEmpty = els.includeEmpty!.checked;\n  loadShares().catch(reportError);\n});\n\nels.sharesBody?.addEventListener('click', (e: MouseEvent) => {\n  const target = e.target as HTMLElement;\n  const btn = target.closest('button[data-detail]') as HTMLElement | null;\n  if (!btn) return;\n  const hash = btn.getAttribute('data-detail');\n  if (!hash) return;\n  loadShareDetail(hash).catch(reportError);\n});\n\nels.modalClose?.addEventListener('click', closeModal);\nels.modal?.addEventListener('click', (e: MouseEvent) => {\n  if (e.target === els.modal) closeModal();\n});\n\ndocument.addEventListener('keydown', (e: KeyboardEvent) => {\n  if (e.key === 'Escape') closeModal();\n});\n\nels.exportCsv?.addEventListener('click', () => {\n  if (!state.selectedHash) return;\n  exportCsv(state.selectedHash).catch(reportError);\n});\n\nloadShares().catch(reportError);\n"],"names":["DROPPR_ACCESS_TOKEN_KEY","DROPPR_REFRESH_TOKEN_KEY","DROPPR_OTP_KEY","getJwtToken","t","decodeJwtPayload","token","parts","payload","pad","getStoredDropprTokens","access","refresh","accessPayload","refreshPayload","getOtpCode","promptForOtp","code","refreshDropprToken","refreshToken","allowPrompt","headers","otp","res","text","data","ensureDropprAccessToken","state","now","els","PREFS_KEY","loadPrefs","savePrefs","prefs","getTheme","setTheme","theme","isDark","toggleTheme","current","initTheme","fmtInt","n","fmtTime","ts","showStatus","error","reportError","err","message","reason","apiJson","path","dropprToken","applyFilterAndRender","_a","q","filtered","s","share","shareLabel","escapeHtml","deletedTag","downloadsTag","tr","value","setMetrics","totals","loadShares","_b","days","includeEmpty","since","until","openDetailsModal","closeModal","renderDetailMetrics","detail","counts","downloads","views","renderIps","ips","row","renderEvents","events","ev","loadShareDetail","shareHash","exportCsv","hash","blob","url","a","searchTimeout","btn"],"mappings":"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"}